<div class="spinner-grow" role="status" *ngIf="!loaded">
  <span class="sr-only">Loading...</span>
</div>

<table class="table table-hover" *ngIf="loaded">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">GTM ID</th>
      <th scope="col">State</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let test of tests; index as i" >
      <th scope="row">{{ i+1 }}</th>
      <td>
        <a routerLink="/test/{{ test.id }}">{{ test.test_id }}</a>
      </td>
      <td>
        <ng-container [ngSwitch]="test.state">
          <span *ngSwitchCase="'queued'" class="badge badge-secondary">{{ test.state }}</span>
          <span *ngSwitchCase="'started'" class="badge badge-warning">{{ test.state }}</span>
          <span *ngSwitchCase="'completed'" class="badge badge-success">{{ test.state }}</span>
          <span *ngSwitchCase="'error'" tooltip="{{ test.error }}" class="badge badge-danger">{{ test.state }}</span>
          <span *ngSwitchDefault class="badge badge-primary">{{ test.state }}</span>
        </ng-container>
      </td>
    </tr>
  </tbody>
</table>
